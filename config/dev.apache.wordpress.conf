# vim:filetype=apache:

<VirtualHost *:80>

    ServerName  localhost
    ServerAlias *

    # redirect any given URL to a https alternative
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI}

</VirtualHost>


<VirtualHost *:443>

    ServerName  localhost
    ServerAlias *

    DocumentRoot /srv/www/wordpress

    <Directory /srv/www/wordpress>
        DirectoryIndex index.php
        AllowOverride Limit Options FileInfo
        Options FollowSymLinks
        Require all granted
    </Directory>
    <Directory /srv/www/wordpress/wp-content>
        Options FollowSymLinks
        Require all granted
    </Directory>

    SSLEngine on
    SSLCertificateFile    /etc/ssl/certs/localhost-selfsigned-cert.pem
    SSLCertificateKeyFile /etc/ssl/private/localhost-selfsigned-priv.key

</VirtualHost>

